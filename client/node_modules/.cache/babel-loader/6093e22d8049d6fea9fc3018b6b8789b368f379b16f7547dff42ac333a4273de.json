{"ast":null,"code":"const buildOptions = data => {\n  const options = {};\n  if (data) {\n    options.body = JSON.stringify(data);\n    options.headers = {\n      'content-type': 'application/json'\n    };\n  }\n  const token = localStorage.getItem('accessToken');\n  if (token) {\n    options.headers = {\n      ...options.headers,\n      Authorization: `Bearer ${token}`\n    };\n  }\n  return options;\n};\nexport default async function request(method, url, data) {\n  const response = await fetch(url, {\n    method,\n    ...buildOptions(data),\n    credentials: 'include'\n  });\n  if (response.status === 204) {\n    return {\n      ok: true\n    };\n  }\n  const result = await response.json();\n  if (response.ok) {\n    return {\n      ok: true,\n      ...result\n    };\n  } else {\n    return {\n      ok: false,\n      ...result\n    };\n  }\n}","map":{"version":3,"names":["buildOptions","data","options","body","JSON","stringify","headers","token","localStorage","getItem","Authorization","request","method","url","response","fetch","credentials","status","ok","result","json"],"sources":["C:/Users/Black/WebstormProjects/AppJobAbs/client/src/lib/request.js"],"sourcesContent":["const buildOptions = (data) => {\r\n\tconst options = {};\r\n\r\n\tif (data) {\r\n\t\toptions.body = JSON.stringify(data);\r\n\t\toptions.headers = {'content-type': 'application/json'};\r\n\t}\r\n\r\n\tconst token = localStorage.getItem('accessToken');\r\n\r\n\tif (token) {\r\n\t\toptions.headers = {\r\n\t\t\t...options.headers,\r\n\t\t\tAuthorization: `Bearer ${token}`,\r\n\t\t}\r\n\t}\r\n\r\n\treturn options;\r\n}\r\n\r\nexport default async function request(method, url, data) {\r\n\tconst response = await fetch(url, {\r\n\t\tmethod,\r\n\t\t...buildOptions(data),\r\n\t\tcredentials: 'include',\r\n\t});\r\n\r\n\tif (response.status === 204) {\r\n\t\treturn { ok: true };\r\n\t}\r\n\r\n\tconst result = await response.json();\r\n\r\n\tif (response.ok) {\r\n\t\treturn { ok: true, ...result };\r\n\t} else {\r\n\t\treturn { ok: false, ...result };\r\n\t}\r\n}\r\n"],"mappings":"AAAA,MAAMA,YAAY,GAAIC,IAAI,IAAK;EAC9B,MAAMC,OAAO,GAAG,CAAC,CAAC;EAElB,IAAID,IAAI,EAAE;IACTC,OAAO,CAACC,IAAI,GAAGC,IAAI,CAACC,SAAS,CAACJ,IAAI,CAAC;IACnCC,OAAO,CAACI,OAAO,GAAG;MAAC,cAAc,EAAE;IAAkB,CAAC;EACvD;EAEA,MAAMC,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,aAAa,CAAC;EAEjD,IAAIF,KAAK,EAAE;IACVL,OAAO,CAACI,OAAO,GAAG;MACjB,GAAGJ,OAAO,CAACI,OAAO;MAClBI,aAAa,EAAE,UAAUH,KAAK;IAC/B,CAAC;EACF;EAEA,OAAOL,OAAO;AACf,CAAC;AAED,eAAe,eAAeS,OAAOA,CAACC,MAAM,EAAEC,GAAG,EAAEZ,IAAI,EAAE;EACxD,MAAMa,QAAQ,GAAG,MAAMC,KAAK,CAACF,GAAG,EAAE;IACjCD,MAAM;IACN,GAAGZ,YAAY,CAACC,IAAI,CAAC;IACrBe,WAAW,EAAE;EACd,CAAC,CAAC;EAEF,IAAIF,QAAQ,CAACG,MAAM,KAAK,GAAG,EAAE;IAC5B,OAAO;MAAEC,EAAE,EAAE;IAAK,CAAC;EACpB;EAEA,MAAMC,MAAM,GAAG,MAAML,QAAQ,CAACM,IAAI,CAAC,CAAC;EAEpC,IAAIN,QAAQ,CAACI,EAAE,EAAE;IAChB,OAAO;MAAEA,EAAE,EAAE,IAAI;MAAE,GAAGC;IAAO,CAAC;EAC/B,CAAC,MAAM;IACN,OAAO;MAAED,EAAE,EAAE,KAAK;MAAE,GAAGC;IAAO,CAAC;EAChC;AACD","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}