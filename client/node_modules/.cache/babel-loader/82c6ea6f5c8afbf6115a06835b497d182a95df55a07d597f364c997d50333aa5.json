{"ast":null,"code":"const buildOptions = data => {\n  const options = {};\n  if (data) {\n    options.body = JSON.stringify(data);\n    options.headers = {\n      'content-type': 'application/json'\n    };\n  }\n  const token = localStorage.getItem('accessToken');\n  if (token) {\n    options.headers = {\n      ...options.headers,\n      Authorization: token\n    };\n  }\n  return options;\n};\nexport default async function request(method, url, data) {\n  const response = await fetch(url, {\n    method,\n    ...buildOptions(data)\n  });\n  if (response.status === 204) {\n    return {};\n  }\n  const result = await response.json();\n  if (!result.ok) {\n    throw result;\n  }\n  return result;\n}","map":{"version":3,"names":["buildOptions","data","options","body","JSON","stringify","headers","token","localStorage","getItem","Authorization","request","method","url","response","fetch","status","result","json","ok"],"sources":["C:/Users/Black/WebstormProjects/AppJobAbs/client/src/lib/request.js"],"sourcesContent":["const buildOptions = (data) => {\r\n\tconst options = {};\r\n\r\n\tif (data) {\r\n\t\toptions.body = JSON.stringify(data);\r\n\t\toptions.headers = {'content-type': 'application/json'};\r\n\t}\r\n\r\n\tconst token = localStorage.getItem('accessToken');\r\n\r\n\tif (token) {\r\n\t\toptions.headers = {\r\n\t\t\t...options.headers,\r\n\t\t\tAuthorization: token,\r\n\t\t}\r\n\t}\r\n\r\n\treturn options;\r\n}\r\n\r\nexport default async function request(method, url, data) {\r\n\tconst response = await fetch(url, {\r\n\t\tmethod,\r\n\t\t...buildOptions(data),\r\n\t});\r\n\r\n\tif (response.status === 204) {\r\n\t\treturn {}\r\n\t}\r\n\r\n\tconst result = await response.json();\r\n\r\n\tif (!result.ok) {\r\n\t\tthrow result;\r\n\t}\r\n\r\n\treturn result\r\n}"],"mappings":"AAAA,MAAMA,YAAY,GAAIC,IAAI,IAAK;EAC9B,MAAMC,OAAO,GAAG,CAAC,CAAC;EAElB,IAAID,IAAI,EAAE;IACTC,OAAO,CAACC,IAAI,GAAGC,IAAI,CAACC,SAAS,CAACJ,IAAI,CAAC;IACnCC,OAAO,CAACI,OAAO,GAAG;MAAC,cAAc,EAAE;IAAkB,CAAC;EACvD;EAEA,MAAMC,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,aAAa,CAAC;EAEjD,IAAIF,KAAK,EAAE;IACVL,OAAO,CAACI,OAAO,GAAG;MACjB,GAAGJ,OAAO,CAACI,OAAO;MAClBI,aAAa,EAAEH;IAChB,CAAC;EACF;EAEA,OAAOL,OAAO;AACf,CAAC;AAED,eAAe,eAAeS,OAAOA,CAACC,MAAM,EAAEC,GAAG,EAAEZ,IAAI,EAAE;EACxD,MAAMa,QAAQ,GAAG,MAAMC,KAAK,CAACF,GAAG,EAAE;IACjCD,MAAM;IACN,GAAGZ,YAAY,CAACC,IAAI;EACrB,CAAC,CAAC;EAEF,IAAIa,QAAQ,CAACE,MAAM,KAAK,GAAG,EAAE;IAC5B,OAAO,CAAC,CAAC;EACV;EAEA,MAAMC,MAAM,GAAG,MAAMH,QAAQ,CAACI,IAAI,CAAC,CAAC;EAEpC,IAAI,CAACD,MAAM,CAACE,EAAE,EAAE;IACf,MAAMF,MAAM;EACb;EAEA,OAAOA,MAAM;AACd","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}